<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Meta -->
    <meta charset="utf-8" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />

    <!-- Use the .htaccess and remove these lines to avoid edge case issues.
       More info: h5bp.com/i/378 -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <!-- Our site title and description -->
    <title>Creating the index page | Jose quesada: E-commerce database marketing</title>
    <meta name="description" content="Website of Jose Quesada." />
    <meta name="keywords" content="quesada, jose quesada, R, semantic web, semantic analysis, predictive models, statistics, machine learning, marketing, psychographics, cognitive science, database marketing" />
    <meta name="author" content="Jose Quesada" />

    <!-- Output DocPad produced meta elements -->
    <meta http-equiv="X-Powered-By" content="DocPad"/>

    <!-- Mobile viewport optimized: h5bp.com/viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- DocPad Meta Information -->
    <meta http-equiv="X-Powered-By" content="DocPad"/>


    <!-- Shims: IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
        <script async src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Styles -->
    <link rel="stylesheet" href="/styles/skeleton.css" />
    <link rel="stylesheet" href="/styles/base.css" />
    <link rel="stylesheet" href="/styles/layout.css" />
    <link rel="stylesheet" href="/styles/font-awesome.css" />
    <link rel="stylesheet" href="/styles/github.css" />

    <!-- convertable contact forms with analytics -->
    <script type="text/javascript">
    var trackerID = "3a39856ed90784117b180fecb5102e79"; // account identifier
    document.write("<script type=\"text/JavaScript\" src=\"http://convertable.com/admin/script.js\"></"+"script>");
    </script>

    <!-- google analytics -->
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', "UA-36430477-1"]);
      _gaq.push(['_setDomainName', 'josequesada.com']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>

    <!-- start Mixpanel --><script type="text/javascript">(function(e,b){if(!b.__SV){var a,f,i,g;window.mixpanel=b;a=e.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"===e.location.protocol?"https:":"http:")+'//cdn.mxpnl.com/libs/mixpanel-2.2.min.js';f=e.getElementsByTagName("script")[0];f.parentNode.insertBefore(a,f);b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==
        typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.increment people.append people.track_charge".split(" ");for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,e,d])};b.__SV=1.2}})(document,window.mixpanel||[]);
        mixpanel.init("3fcbcafa555fc23a2d9863437ee2af0d");</script><!-- end Mixpanel -->
</head>

<body>

    <div class="wrap-header">
        <div class="container">
            <h1 class="logo"><a href="/" title="Jose Quesada PhD Ecommerce database marketing">Jose Quesada</a></h1>
            <nav class="primary">
                <ul>
                    <li><a href="/problems-and-solutions.html">problems & solutions</a> / </li>
                    <!-- <li><a href="/why-you-should-work-with-me.html">problems & solutions</a> / </li> -->
                    <li><a href="/blog.html">blog</a> / </li>
                    <li><script type="text/javascript" language="javascript">
                    <!--
                    // Email obfuscator script 2.1 by Tim Williams, University of Arizona
                    // Random encryption key feature by Andrew Moulden, Site Engineering Ltd
                    // This code is freeware provided these four comment lines remain intact
                    // A wizard to generate this code is at http://www.jottings.com/obfuscator/
                    { coded = "Ga@EOmac4amWvW.7OG"
                      key = "01yc9R8u3rmDNFLvWo5AC7YgV4nfG6zMjwkOxHJUileBZQTqbKE2IpsPShtdaX"
                      shift=coded.length
                      link=""
                      for (i=0; i<coded.length; i++) {
                        if (key.indexOf(coded.charAt(i))==-1) {
                          ltr = coded.charAt(i)
                          link += (ltr)
                        }
                        else {
                          ltr = (key.indexOf(coded.charAt(i))-shift+key.length) % key.length
                          link += (key.charAt(ltr))
                        }
                      }
                    document.write("<a href='mailto:"+link+"'>contact</a>")
                    }
                    //-->
                    </script><noscript>Sorry, you need Javascript on to email me.</noscript>
                    </li>
                </ul>
            </nav>
        </div>
    </div>


<!-- end header and top nav bar -->


    <div class="container post">
    <div class="two-thirds">
        <article id="post" class="post">
            <h1>Creating the index page</h1>
            <div class="post-date">Monday, November 12, 2012</div>
            <div class="post-content"><p>Now that we&#39;ve got Docpad up and running, the last thing thats absolutely essential is to get the site showing the blog posts on the index page. You&#39;d think this would be simple, and it really is, but it stumped me for a little while before I found the appropriate documentation.</p>

<p>Now I&#39;m not certain this is the best way of doing things but it works for me and its simple enough. To display the last N blog posts on your index page do something like this:</p>

<pre class="highlighted"><code class="coffeescript">    &lt;% <span class="keyword">for</span> document,i <span class="keyword">in</span> <span class="property">@getCollection</span>(<span class="string">'posts'</span>).toJSON(): %&gt;

    &lt;% <span class="keyword">break</span> <span class="keyword">if</span> i &gt; <span class="number">2</span> %&gt;

    &lt;article id=<span class="string">"post"</span> class=<span class="string">"post"</span>&gt;
        &lt;h1&gt;&lt;a href=<span class="string">'&lt;%=document.url%&gt;'</span>&gt;&lt;%= document.title %&gt;&lt;<span class="regexp">/a&gt;&lt;/</span>h1&gt;
        &lt;div class=<span class="string">"post-date"</span>&gt;&lt;%= document.date.toLocaleDateString() %&gt;&lt;/div&gt;
        &lt;div class=<span class="string">"post-content"</span>&gt;
            &lt;%- document.contentRenderedWithoutLayouts %&gt;
        &lt;/div&gt;
    &lt;/article&gt;
    &lt;% end %&gt;
</code></pre>

<p>This simply says loop over the collection of &#39;posts&#39;, break the loop if the <code>i</code> variable is greater than 2 (remember this is a for loop so its zero indexed). Then we simply render the article, and use the <code>document.contentRenderedWithoutLayouts</code> rather than the usual @content. We do this since we&#39;re already &#39;laid out&#39; so we don&#39;t need the full layout of the document again.</p>
</div>
        </article>
    </div>

    <!-- comments -->

</div>

<div class="container sidebar">
    <div class="one-third">
        
            <h3>Related Posts</h3>
            
                <li><a href="/posts/blogging-with-docpad.html">Blogging with DocPad</a></li>
            
                <li><a href="/posts/unit-testing-docpad-plugins.html">Unit Testing DocPad plugins</a></li>
            
                <li><a href="/posts/creating-a-docpad-plugin.html">Creating a DocPad plugin</a></li>
            
                <li><a href="/posts/amazon.html">What do we learn from Amazon's success?</a></li>
            
                <li><a href="/posts/going-static.html">Going Static</a></li>
            
        

        <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'urlwolf'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


<!-- <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_developer = 1; // this makes it work on localhost. Not for me though
    (function() {
        window.disqus_shortname = 'urlwolf';
        window.disqus_developer = document.location.href.indexOf('localhost') !== -1 ? 1 : 0;
        window.disqus_url = document.location.href
        window.disqus_identifier = 'posts-creating-the-index-page';
        window.disqus_title = 'Creating the index page';
        if ( window.DISQUS) {
            return DISQUS.reset({
                reload: true,
                config: function () {
                    this.page.identifier = window.disqus_identifier;
                    this.page.url = window.disqus_url;
                    this.page.title = window.disqus_title;
                }
            });
        }
        else {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        }
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a> -->

    </div>
</div>


<!-- TODO: add CTA: follow me on twitter, subscribe to my newsletter, etc -->

<!-- TODO, get this into partials -->
<!-- start of footer -->
    <footer>
        <div class="container widgets">
            <div class="one-third column  about">
                <h2>About Me</h2>
                <img src="images/josequesada.jpg" alt="" class="thumb"/>
                <div>
                    <p>I'm a modeler, with a PhD in Machine learning. I worked at top labs (U. of Colorado, Boulder; Carnegie Mellon); But my specialty is to find and optimize business value. If you think you can decide better, do better, or be better through data, contact me for a free consultation: </p>

                    <script type="text/javascript" language="javascript">
                    <!--
                    // Email obfuscator script 2.1 by Tim Williams, University of Arizona
                    // Random encryption key feature by Andrew Moulden, Site Engineering Ltd
                    // This code is freeware provided these four comment lines remain intact
                    // A wizard to generate this code is at http://www.jottings.com/obfuscator/
                    { coded = "Ga@EOmac4amWvW.7OG"
                      key = "01yc9R8u3rmDNFLvWo5AC7YgV4nfG6zMjwkOxHJUileBZQTqbKE2IpsPShtdaX"
                      shift=coded.length
                      link=""
                      for (i=0; i<coded.length; i++) {
                        if (key.indexOf(coded.charAt(i))==-1) {
                          ltr = coded.charAt(i)
                          link += (ltr)
                        }
                        else {
                          ltr = (key.indexOf(coded.charAt(i))-shift+key.length) % key.length
                          link += (key.charAt(ltr))
                        }
                      }
                    document.write("<a href='mailto:"+link+"'>me@josequesada.com</a>")
                    }
                    //-->
                    </script><noscript>Sorry, you need Javascript on to email me.</noscript>
                    <br>



                    <ul>
                        <!-- <li><a href="#" target="_blank"><img src="images/facebook.png" alt="" /></a></li> -->
                        <li><a href="https://twitter.com/quesada" target="_blank"><img src="images/twitter.png" alt="" /></a></li>
                        <li><a href="de.linkedin.com/in/jfquesada/" target="_blank"><img src="images/linkedin.jpg" alt="" /></a></li>

                        <li><a href="atom.xml" target="_blank"><img src="images/rss.png" alt="" /></a></li>
                    </ul>
                </div>
            </div>

            <div class="one-third column  blog">
               <h2>Resources</h2>
                <nav>
                    <ul>
                        
                            <li class="">
                                <a href="/blog.html" property="dc:title">Blog</a>
                            </li>
                        
                    </ul>
                </nav>
            </div>

  <div class="one-third column  blog">
        <h2>Recent posts</h2>
            <nav>
                <ul>
                    
                    
                        
                        <li class="">
                            <a href="/posts/technical-reasons-not-to-pic-google-website-optimizer.html" property="dc:title">Technical reasons not to use google website optimizer (and Usability reasons too)</a>
                        </li>
                    
                        
                        <li class="">
                            <a href="/posts/unit-testing-docpad-plugins.html" property="dc:title">Unit Testing DocPad plugins</a>
                        </li>
                    
                        
                        <li class="">
                            <a href="/posts/creating-a-docpad-plugin.html" property="dc:title">Creating a DocPad plugin</a>
                        </li>
                    
                        
                        <li class="">
                            <a href="/posts/amazon.html" property="dc:title">What do we learn from Amazon's success?</a>
                        </li>
                    
                        
                        <li class="active">
                            <a href="/posts/creating-the-index-page.html" property="dc:title">Creating the index page</a>
                        </li>
                    
                        
                        <li class="">
                            <a href="/posts/blogging-with-docpad.html" property="dc:title">Blogging with DocPad</a>
                        </li>
                    
                        
                        <li class="">
                            <a href="/posts/going-static.html" property="dc:title">Going Static</a>
                        </li>
                    
                </ul>
            </nav>
                <a class="dark-more">view more</a>
            </div>
    </footer>

    <footer class="sub-footer">
            <div class="container">
                <div class="eight columns left">
                    <p>Copyright 2012 <a href="#">Made with love from Berlin</a> </p>
                </div>

                <div class="eight columns right">
                    <div class="mixpanel">
                        <a href="https://mixpanel.com/f/partner"><img src="http://cdn.mxpnl.com/site_media/images/partner/badge_blue.png" alt="Mobile Analytics" /></a>
                    </div>
                    <!-- <h1 class="logo"><a href="#" title="Jose Quesada">Jose Quesada</a></h1> -->
                </div>
            </div>
    </footer>
    <script  src="/socket.io/socket.io.js"></script><script >var socket = io.connect('/docpad-live-reload');
socket.on('regenerated',function(){
	document.location.reload();
});</script>
</body>
</html>